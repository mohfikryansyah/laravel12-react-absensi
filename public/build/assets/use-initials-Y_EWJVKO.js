import{r as i,j as l}from"./app-Bta-wT-b.js";import{c as C,d as L,f as v}from"./index-CAD34kM0.js";import{P as d}from"./index-DKj-CO1Z.js";import{c as f}from"./utils-jAU0Cazi.js";var m="Avatar",[w,P]=C(m),[b,A]=w(m),p=i.forwardRef((t,a)=>{const{__scopeAvatar:r,...e}=t,[n,s]=i.useState("idle");return l.jsx(b,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:l.jsx(d.span,{...e,ref:a})})});p.displayName=m;var x="AvatarImage",S=i.forwardRef((t,a)=>{const{__scopeAvatar:r,src:e,onLoadingStatusChange:n=()=>{},...s}=t,u=A(x,r),o=j(e,s.referrerPolicy),c=L(g=>{n(g),u.onImageLoadingStatusChange(g)});return v(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(d.img,{...s,ref:a,src:e}):null});S.displayName=x;var I="AvatarFallback",h=i.forwardRef((t,a)=>{const{__scopeAvatar:r,delayMs:e,...n}=t,s=A(I,r),[u,o]=i.useState(e===void 0);return i.useEffect(()=>{if(e!==void 0){const c=window.setTimeout(()=>o(!0),e);return()=>window.clearTimeout(c)}},[e]),u&&s.imageLoadingStatus!=="loaded"?l.jsx(d.span,{...n,ref:a}):null});h.displayName=I;function j(t,a){const[r,e]=i.useState("idle");return v(()=>{if(!t){e("error");return}let n=!0;const s=new window.Image,u=o=>()=>{n&&e(o)};return e("loading"),s.onload=u("loaded"),s.onerror=u("error"),s.src=t,a&&(s.referrerPolicy=a),()=>{n=!1}},[t,a]),r}var k=p,N=S,R=h;function F({className:t,...a}){return l.jsx(k,{"data-slot":"avatar",className:f("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function $({className:t,...a}){return l.jsx(N,{"data-slot":"avatar-image",className:f("aspect-square size-full",t),...a})}function z({className:t,...a}){return l.jsx(R,{"data-slot":"avatar-fallback",className:f("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}function T(){return i.useCallback(a=>{const r=a.trim().split(" ");if(r.length===0)return"";if(r.length===1)return r[0].charAt(0).toUpperCase();const e=r[0].charAt(0),n=r[r.length-1].charAt(0);return`${e}${n}`.toUpperCase()},[])}export{F as A,z as a,$ as b,T as u};
