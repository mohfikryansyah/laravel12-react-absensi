import{r as u,j as e,L as B,S as H,V as L}from"./app-Bta-wT-b.js";import{B as c}from"./button-yj5hMQ3c.js";import{C as P,a as F}from"./calendar-CC-dsLnt.js";import{C as q,a as z,b as J,c as K,d as $}from"./card-D-w5G1aT.js";import{C as D,b as M,d as U,e as V}from"./command-Bx13nn_r.js";import{u as G,F as W,a as t,b as n,e as i,d as o,c as m}from"./form-Bv2a12iq.js";import{I as h}from"./input-sEIEruoo.js";import{L as Q}from"./label-BWVyYn6N.js";import{P as p,a as f,b as v}from"./popover-RLZG7F2w.js";import{A as X}from"./app-layout-DGaG65JJ.js";import{c as d}from"./utils-jAU0Cazi.js";import{s as Y,P as Z}from"./zod-IuNA-TFj.js";import{c as E}from"./createLucideIcon-CVuAcCb-.js";import{C as A}from"./check-IbVnGVfI.js";import{f as g}from"./format-acRrnPkz.js";import"./index-8OSeXHHY.js";import"./chevron-right-BPnegaHu.js";import"./chevron-left-8KL3Yjt_.js";import"./index-DKj-CO1Z.js";import"./index-D73HEG_a.js";import"./index-CAD34kM0.js";import"./index-Be9ZpaHw.js";import"./dropdown-menu-vHaG0bkZ.js";import"./use-initials-Y_EWJVKO.js";import"./chevrons-up-down-DOgTaHrR.js";import"./app-logo-icon-DxQ8HIrN.js";import"./building-2-xoQ_6p3O.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],se=E("Upload",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],le=E("User",ae),re=[{value:"Laki-laki",label:"Laki-laki"},{value:"Perempuan",label:"Perempuan"}];function Me({devisis:y}){const[C,j]=u.useState({gender:!1,divisi:!1}),[I,N]=u.useState(!1),[R,k]=u.useState(null),[S,_]=u.useState(null),w=u.useRef(null),T=()=>{k(null),_(null),w.current&&(w.current.value="")},l=G({resolver:Y(Z),defaultValues:{avatar:void 0,name:"",date_of_birth:void 0,gender:void 0,address:"",phone_number:"",email:"",devisi:void 0,date_joined:void 0},mode:"onChange"});function O(s){const a={...s,date_of_birth:g(new Date(s.date_of_birth),"yyyy-MM-dd"),date_joined:g(new Date(s.date_joined),"yyyy-MM-dd")};N(!0),H.post(route("employees.store"),a,{preserveScroll:!0,onSuccess:()=>{L.success("Berhasil menambahkan pegawai!"),l.reset(),N(!1)},onError:r=>{L.error("Error: "+r),N(!1),Object.entries(r).forEach(([x,b])=>{l.setError(x,{type:"server",message:String(b)})})}})}return e.jsxs(X,{children:[e.jsx(B,{title:"Lokasi Absensi"}),e.jsx("div",{className:"flex h-full w-full flex-col gap-4 rounded-xl p-4",children:e.jsx("div",{className:"max-w-4xl",children:e.jsxs(q,{children:[e.jsxs(z,{children:[e.jsx(J,{children:"Tambah Data Pegawai"}),e.jsx(K,{children:"Isi formulir berikut untuk membuat akun dan menambahkan data pegawai."})]}),e.jsx($,{children:e.jsx(W,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(O),encType:"multipart/form-data",className:"space-y-2 md:space-y-5",children:[e.jsx(t,{control:l.control,name:"avatar",render:({field:s})=>e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs("div",{className:"items-center not-md:space-y-4 md:flex",children:[e.jsx(Q,{className:"block w-full max-w-[150px]",children:"Avatar"}),S?e.jsx("img",{src:S,alt:"",className:"aspect-square size-20 rounded-full"}):e.jsx("div",{className:"relative flex aspect-square size-20 items-center justify-center rounded-full border-2 border-dotted",children:e.jsx(le,{})}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("label",{htmlFor:"avatar",className:"cursor-pointer",children:e.jsx(c,{className:"bg-utama md:ml-4",asChild:!0,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(se,{})," Upload Foto"]})})}),e.jsx(h,{ref:w,id:"avatar",onChange:a=>{if(a.target.files&&a.target.files.length>0){k(a.target.files[0]);const r=URL.createObjectURL(a.target.files[0]);_(r),s.onChange(a.target.files[0])}},type:"file",className:"hidden max-w-fit"}),e.jsx(c,{variant:"secondary",onClick:T,disabled:!R,className:"md:ml-2",children:"Delete"})]})]})}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"name",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Nama Lengkap"}),e.jsx(i,{children:e.jsx(h,{...s})})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"date_of_birth",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Tanggal Lahir"}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsxs(c,{variant:"outline",className:d("w-full text-left font-normal",!s.value&&"text-muted-foreground"),children:[s.value?g(s.value,"yyyy-MM-dd"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(P,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(v,{className:"w-auto p-0",align:"start",children:e.jsx(F,{mode:"single",selected:s.value,onSelect:s.onChange,disabled:a=>a>new Date||a<new Date("1945-01-01"),initialFocus:!0})})]})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"gender",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Jenis Kelamin"}),e.jsxs(p,{open:C.gender,onOpenChange:()=>j(a=>({...a,gender:!a.gender})),children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsx(c,{variant:"outline",className:d("w-full text-left font-normal",!s.value&&"text-muted-foreground"),children:s.value?e.jsx("span",{className:"mr-auto",children:s.value}):e.jsx("span",{className:"mr-auto",children:"Pilih Jenis Kelamin"})})})}),e.jsx(v,{className:"popover-content-width-same-as-its-trigger w-auto p-0",align:"start",children:e.jsx(D,{children:e.jsx(M,{children:e.jsx(U,{children:re.map(a=>e.jsxs(V,{value:a.value,onSelect:r=>{l.setValue("gender",r),j(x=>({...x,gender:!1}))},children:[e.jsx(A,{className:d("mr-2 h-4 w-4",l.getValues("gender")===a.value?"opacity-100":"opacity-0")}),a.label]},a.value))})})})})]})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"address",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Alamat"}),e.jsx(i,{children:e.jsx(h,{...s})})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"phone_number",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Whatsapp"}),e.jsx(i,{children:e.jsx(h,{type:"telp",className:"[input:-webkit-autofill]",...s})})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Email"}),e.jsx(i,{children:e.jsx(h,{...s})})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(t,{control:l.control,name:"devisi",render:({field:s})=>{var a;return e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Divisi"}),e.jsxs(p,{open:C.divisi,onOpenChange:()=>j(r=>({...r,divisi:!r.divisi})),children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsx(c,{variant:"outline",className:d("w-full text-left font-normal",!s.value&&"text-muted-foreground"),children:s.value?e.jsx("span",{className:"mr-auto",children:(a=y.find(r=>r.id===s.value))==null?void 0:a.name}):e.jsx("span",{className:"mr-auto",children:"Pilih Divisi"})})})}),e.jsx(v,{className:"popover-content-width-same-as-its-trigger w-auto p-0",align:"start",children:e.jsx(D,{children:e.jsx(M,{children:e.jsx(U,{children:y.map(r=>e.jsxs(V,{value:String(r.id),onSelect:x=>{l.setValue("devisi",Number(x)),j(b=>({...b,divisi:!1}))},children:[e.jsx(A,{className:d("mr-2 h-4 w-4",l.getValues("devisi")===r.id?"opacity-100":"opacity-0")}),r.name]},r.id))})})})})]})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}}),e.jsx(t,{control:l.control,name:"date_joined",render:({field:s})=>e.jsxs(n,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(m,{className:"w-full max-w-[150px]",children:"Tanggal bergabung"}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsxs(c,{variant:"outline",className:d("w-full text-left font-normal",!s.value&&"text-muted-foreground"),children:[s.value?g(s.value,"yyyy-MM-dd"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(P,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(v,{className:"w-auto p-0",align:"start",children:e.jsx(F,{mode:"single",selected:s.value,onSelect:s.onChange,disabled:a=>a>new Date||a<new Date("2000-01-01"),initialFocus:!0})})]})]}),e.jsx(o,{className:"md:ml-[150px]"})]})}),e.jsx(c,{type:"submit",disabled:I,children:"Submit"})]})})})]})})})]})}export{Me as default};
