import{r as j,j as e,L as T,S as O,V as _}from"./app-slHrediJ.js";import{B as c}from"./button-Cbigv-V_.js";import{C as L,a as P}from"./calendar-CqdOJ_J4.js";import{C as B,a as H,b as q,c as z,d as J}from"./card-BAv03Cvd.js";import{C as F,a as D,b as M,c as U}from"./command-v6J3Bnli.js";import{u as K,F as $,a as n,b as t,d as i,e as d,c as o}from"./form-BTtoMjcP.js";import{I as u}from"./input-71d_bzeV.js";import{L as G}from"./label-BFeYCQRs.js";import{P as p,a as f,b as v}from"./popover-DQD6K2Ga.js";import{A as W}from"./app-layout-DfJ8kd11.js";import{c as m}from"./utils-jAU0Cazi.js";import{s as Q,P as X}from"./zod-r58opypI.js";import{c as A}from"./createLucideIcon-DFr7hvhV.js";import{C as V}from"./index-scW8h5Tg.js";import{f as g}from"./format-acRrnPkz.js";import"./chevron-right-CkAVuKdP.js";import"./chevron-left-CsmA84uC.js";import"./index-BiMF2qYw.js";import"./index-DVxosnc3.js";import"./index-DaZdyvBW.js";import"./dropdown-menu-BX9CwoSt.js";import"./use-initials-co0ctM9R.js";import"./chevrons-up-down-DLNxRuMk.js";import"./app-logo-icon-C49Rra1P.js";import"./building-2-uOO9jhoK.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Z=A("Upload",Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ae=A("User",ee),se=[{value:"Laki-laki",label:"Laki-laki"},{value:"Perempuan",label:"Perempuan"}];function Le({devisis:y}){const[b,h]=j.useState({gender:!1,divisi:!1}),[E,C]=j.useState(null),[k,S]=j.useState(null),N=j.useRef(null),I=()=>{C(null),S(null),N.current&&(N.current.value="")},l=K({resolver:Q(X),defaultValues:{avatar:void 0,name:"",date_of_birth:void 0,gender:void 0,address:"",phone_number:"",email:"",devisi:void 0,date_joined:void 0},mode:"onChange"});function R(a){const s={...a,date_of_birth:g(new Date(a.date_of_birth),"yyyy-MM-dd"),date_joined:g(new Date(a.date_joined),"yyyy-MM-dd")};O.post(route("employees.store"),s,{preserveScroll:!0,onSuccess:()=>{_.success("Berhasil menambahkan pegawai!"),l.reset()},onError:r=>{_.error("Error: "+r),Object.entries(r).forEach(([x,w])=>{l.setError(x,{type:"server",message:String(w)})})}})}return e.jsxs(W,{children:[e.jsx(T,{title:"Lokasi Absensi"}),e.jsx("div",{className:"flex h-full w-full flex-col gap-4 rounded-xl p-4",children:e.jsx("div",{className:"max-w-4xl",children:e.jsxs(B,{children:[e.jsxs(H,{children:[e.jsx(q,{children:"Tambah Data Pegawai"}),e.jsx(z,{children:"Isi formulir berikut untuk membuat akun dan menambahkan data pegawai."})]}),e.jsx(J,{children:e.jsx($,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(R),encType:"multipart/form-data",className:"space-y-2 md:space-y-5",children:[e.jsx(n,{control:l.control,name:"avatar",render:({field:a})=>e.jsxs(t,{children:[e.jsx(i,{children:e.jsxs("div",{className:"items-center not-md:space-y-4 md:flex",children:[e.jsx(G,{className:"block w-full max-w-[150px]",children:"Avatar"}),k?e.jsx("img",{src:k,alt:"",className:"aspect-square size-20 rounded-full"}):e.jsx("div",{className:"relative flex aspect-square size-20 items-center justify-center rounded-full border-2 border-dotted",children:e.jsx(ae,{})}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("label",{htmlFor:"avatar",className:"cursor-pointer",children:e.jsx(c,{className:"bg-utama md:ml-4",asChild:!0,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Z,{})," Upload Foto"]})})}),e.jsx(u,{ref:N,id:"avatar",onChange:s=>{if(s.target.files&&s.target.files.length>0){C(s.target.files[0]);const r=URL.createObjectURL(s.target.files[0]);S(r),a.onChange(s.target.files[0])}},type:"file",className:"hidden max-w-fit"}),e.jsx(c,{variant:"secondary",onClick:I,disabled:!E,className:"md:ml-2",children:"Delete"})]})]})}),e.jsx(d,{className:"md:ml-[150px]"})]})}),e.jsx(n,{control:l.control,name:"name",render:({field:a})=>e.jsxs(t,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Nama Lengkap"}),e.jsx(i,{children:e.jsx(u,{...a})})]}),e.jsx(d,{className:"md:ml-[150px]"})]})}),e.jsx(n,{control:l.control,name:"date_of_birth",render:({field:a})=>e.jsxs(t,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Tanggal Lahir"}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsxs(c,{variant:"outline",className:m("w-full text-left font-normal",!a.value&&"text-muted-foreground"),children:[a.value?g(a.value,"yyyy-MM-dd"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(L,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(v,{className:"w-auto p-0",align:"start",children:e.jsx(P,{mode:"single",selected:a.value,onSelect:a.onChange,disabled:s=>s>new Date||s<new Date("1945-01-01"),initialFocus:!0})})]})]}),e.jsx(d,{})]})}),e.jsx(n,{control:l.control,name:"gender",render:({field:a})=>e.jsx(t,{children:e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Jenis Kelamin"}),e.jsxs(p,{open:b.gender,onOpenChange:()=>h(s=>({...s,gender:!s.gender})),children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsx(c,{variant:"outline",className:m("w-full text-left font-normal",!a.value&&"text-muted-foreground"),children:a.value?e.jsx("span",{className:"mr-auto",children:a.value}):e.jsx("span",{className:"mr-auto",children:"Pilih Jenis Kelamin"})})})}),e.jsx(v,{className:"popover-content-width-same-as-its-trigger w-auto p-0",align:"start",children:e.jsx(F,{children:e.jsx(D,{children:e.jsx(M,{children:se.map(s=>e.jsxs(U,{value:s.value,onSelect:r=>{l.setValue("gender",r),h(x=>({...x,gender:!1}))},children:[e.jsx(V,{className:m("mr-2 h-4 w-4",l.getValues("gender")===s.value?"opacity-100":"opacity-0")}),s.label]},s.value))})})})})]})]})})}),e.jsx(n,{control:l.control,name:"address",render:({field:a})=>e.jsxs(t,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Alamat"}),e.jsx(i,{children:e.jsx(u,{...a})})]}),e.jsx(d,{className:"md:ml-[150px]"})]})}),e.jsx(n,{control:l.control,name:"phone_number",render:({field:a})=>e.jsxs(t,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Whatsapp"}),e.jsx(i,{children:e.jsx(u,{type:"telp",className:"[input:-webkit-autofill]",...a})})]}),e.jsx(d,{className:"md:ml-[150px]"})]})}),e.jsx(n,{control:l.control,name:"email",render:({field:a})=>e.jsxs(t,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Email"}),e.jsx(i,{children:e.jsx(u,{...a})})]}),e.jsx(d,{className:"md:ml-[150px]"})]})}),e.jsx(n,{control:l.control,name:"devisi",render:({field:a})=>{var s;return e.jsx(t,{children:e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Divisi"}),e.jsxs(p,{open:b.divisi,onOpenChange:()=>h(r=>({...r,divisi:!r.divisi})),children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsx(c,{variant:"outline",className:m("w-full text-left font-normal",!a.value&&"text-muted-foreground"),children:a.value?e.jsx("span",{className:"mr-auto",children:(s=y.find(r=>r.id===a.value))==null?void 0:s.name}):e.jsx("span",{className:"mr-auto",children:"Pilih Divisi"})})})}),e.jsx(v,{className:"popover-content-width-same-as-its-trigger w-auto p-0",align:"start",children:e.jsx(F,{children:e.jsx(D,{children:e.jsx(M,{children:y.map(r=>e.jsxs(U,{value:String(r.id),onSelect:x=>{l.setValue("devisi",Number(x)),h(w=>({...w,divisi:!1}))},children:[e.jsx(V,{className:m("mr-2 h-4 w-4",l.getValues("devisi")===r.id?"opacity-100":"opacity-0")}),r.name]},r.id))})})})})]})]})})}}),e.jsx(n,{control:l.control,name:"date_joined",render:({field:a})=>e.jsxs(t,{children:[e.jsxs("div",{className:"items-center md:flex",children:[e.jsx(o,{className:"w-full max-w-[150px]",children:"Tanggal bergabung"}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(i,{children:e.jsxs(c,{variant:"outline",className:m("w-full text-left font-normal",!a.value&&"text-muted-foreground"),children:[a.value?g(a.value,"yyyy-MM-dd"):e.jsx("span",{children:"Pilih tanggal"}),e.jsx(L,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(v,{className:"w-auto p-0",align:"start",children:e.jsx(P,{mode:"single",selected:a.value,onSelect:a.onChange,disabled:s=>s>new Date||s<new Date("2000-01-01"),initialFocus:!0})})]})]}),e.jsx(d,{})]})}),e.jsx(c,{type:"submit",children:"Submit"})]})})})]})})})]})}export{Le as default};
