import{r as f,j as r,S as v,V as c}from"./app--NafNW8N.js";import{B as d}from"./button-DKqtmY5T.js";import{C,a as b,b as g,c as S,d as k}from"./card-BxVayZXG.js";import{C as D,a as F,b as N,c as E}from"./command-DPx_niVE.js";import{u as y,F as B,a as p,b as u,c as x,d as h}from"./form-Csw1QcIv.js";import{I}from"./input-W6hWTTEm.js";import{P,a as V,b as w}from"./popover-Bc3Urvw_.js";import{A as L}from"./app-layout-1bWnH4Hk.js";import{c as O}from"./utils-jAU0Cazi.js";import{s as A,D as T}from"./zod-CDxVm12l.js";import{C as G}from"./index-DAjHXmnO.js";import"./index-DMMIZxIQ.js";import"./index-31Ipk15n.js";import"./createLucideIcon-Brx01vu8.js";import"./label-BEp1-pKL.js";import"./index-bwBtKtnz.js";import"./dropdown-menu-CrorICFw.js";import"./use-initials-5Vy89ugo.js";import"./chevrons-up-down-BtCOfvYM.js";import"./app-logo-icon-CNZSU5wJ.js";import"./building-2-C02OJwB_.js";import"./chevron-right-XI6LTbq1.js";function mr({users:m,devisi:t}){const[n,l]=f.useState(!1),e=y({resolver:A(T),defaultValues:{name:t.name,ketua:t.ketua}});function j(a){v.put(route("devisi.update",{devisi:t.id}),a,{onSuccess:()=>{e.reset(),c.success("Berhasil membuat divisi baru")},onError:i=>{console.log(i),c.error("Error: "+i),Object.entries(i).forEach(([s,o])=>{e.setError(s,{type:"server",message:String(o)})})}})}return r.jsx(L,{children:r.jsx("div",{className:"flex max-w-3xl flex-1 flex-col gap-4 p-4",children:r.jsxs(C,{children:[r.jsxs(b,{children:[r.jsx(g,{children:"Buat Divisi Baru"}),r.jsx(S,{children:"Isi formulir berikut untuk membuat Divisi"})]}),r.jsx(k,{children:r.jsx(B,{...e,children:r.jsxs("form",{onSubmit:e.handleSubmit(j),className:"space-y-4",children:[r.jsx(p,{control:e.control,name:"name",render:({field:a})=>r.jsxs(u,{children:[r.jsx(x,{children:"Nama Divisi"}),r.jsx(h,{children:r.jsx(I,{...a})})]})}),r.jsx(p,{control:e.control,name:"ketua",render:({field:a})=>{var i;return r.jsxs(u,{children:[r.jsx(x,{children:"Ketua Divisi"}),r.jsxs(P,{open:n,onOpenChange:l,children:[r.jsx(V,{asChild:!0,children:r.jsx(h,{children:r.jsx(d,{variant:"outline",children:a.value?r.jsx("span",{className:"mr-auto",children:(i=m.find(s=>s.id===a.value))==null?void 0:i.name}):r.jsx("span",{className:"mr-auto",children:"Pilih user"})})})}),r.jsx(w,{className:"popover-content-width-same-as-its-trigger w-auto p-0",align:"start",children:r.jsx(D,{children:r.jsx(F,{children:r.jsx(N,{children:m.map(s=>r.jsxs(E,{value:String(s.id),onSelect:o=>{e.setValue("ketua",Number(o)),l(!n)},children:[r.jsx(G,{className:O("mr-2 h-4 w-4",e.getValues("ketua")===s.id?"opacity-100":"opacity-0")}),s.name]},s.id))})})})})]})]})}}),r.jsx(d,{type:"submit",children:"Submit"})]})})})]})})})}export{mr as default};
