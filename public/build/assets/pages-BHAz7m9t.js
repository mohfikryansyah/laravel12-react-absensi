import{r as a,j as e,L as x}from"./app-73PXmQ0L.js";import{C as h,a as j,b as L,d as N}from"./card-D0s5zf5I.js";import{L as d,M as b,d as g}from"./map-leaflet-DC9GcGW5.js";import{A as v}from"./app-layout-DvvVNhPu.js";import f from"./tab-edit-view-3outWhpj.js";import"./utils-jAU0Cazi.js";import"./index-bOE8_Kzt.js";import"./button-DJr14K4H.js";import"./index-DDJRWYR0.js";import"./createLucideIcon-DD5_lgfx.js";import"./index-pV9CKLJr.js";import"./index-UB70wyLq.js";import"./dropdown-menu-DvkTQ6Bm.js";import"./use-initials-CgDP6PuV.js";import"./chevrons-up-down-DcUrWfdF.js";import"./app-logo-icon-DuJXVUNj.js";import"./building-2-CfzSGeG9.js";import"./chevron-right-CPWzXe3b.js";import"./square-pen-vaAWrsQO.js";const k=[{title:"Lokasi Presensi",href:"#"}];function D({office:r}){const s=a.useRef(null),l=a.useRef(null),n=a.useRef(null),[c,u]=a.useState(!1),o=r.latitude,m=r.longitude,i=d.latLng(o,m),p=()=>{s.current&&(l.current&&s.current.removeLayer(l.current),n.current&&s.current.removeLayer(n.current),l.current=d.circle(i,{color:"red",radius:r.radius}).addTo(s.current),n.current=d.marker(i,{icon:g}).addTo(s.current).bindPopup("Lokasi Absensi"),s.current.setView(i,13))};return a.useEffect(()=>{const t=setInterval(()=>{s.current&&(u(!0),clearInterval(t))},100);return()=>clearInterval(t)},[]),a.useEffect(()=>{if(c){const t=setTimeout(()=>{p()},200);return()=>clearTimeout(t)}},[c,r.radius,r.latitude,r.longitude]),e.jsxs(v,{breadcrumbs:k,children:[e.jsx(x,{title:"Lokasi Absensi"}),e.jsxs("div",{className:"flex h-full max-w-5xl flex-col gap-4 rounded-xl p-4",children:[e.jsx(f,{office:r}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(L,{children:"Lokasi Absensi"})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-y-6 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Lokasi"}),e.jsx("p",{className:"font-bold",children:r.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Jam Masuk"}),e.jsx("p",{className:"font-bold",children:r.clock_in})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Jam Keluar"}),e.jsx("p",{className:"font-bold",children:r.clock_out})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Radius"}),e.jsxs("p",{className:"font-bold",children:[r.radius," ",e.jsx("span",{className:"font-normal text-gray-500",children:"meter"})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Latitude"}),e.jsx("p",{className:"font-bold",children:r.latitude})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Longitude"}),e.jsx("p",{className:"font-bold",children:r.longitude})]})]})})]}),e.jsx("div",{className:"h-full p-0",children:e.jsx(b,{mapRef:s,center:[o,m],zoom:13})})]})]})}export{D as default};
