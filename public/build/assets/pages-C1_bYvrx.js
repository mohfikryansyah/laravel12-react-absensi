import{r as t,j as e,L as x}from"./app-Bta-wT-b.js";import{C as h,a as j,b as L,d as N}from"./card-D-w5G1aT.js";import{L as d,M as b,d as g}from"./map-leaflet-DBVFy88C.js";import{A as v}from"./app-layout-DGaG65JJ.js";import f from"./tab-edit-view-D4nn1-xp.js";import"./utils-jAU0Cazi.js";import"./index-DKj-CO1Z.js";import"./index-8OSeXHHY.js";import"./button-yj5hMQ3c.js";import"./index-Be9ZpaHw.js";import"./createLucideIcon-CVuAcCb-.js";import"./index-CAD34kM0.js";import"./index-D73HEG_a.js";import"./dropdown-menu-vHaG0bkZ.js";import"./check-IbVnGVfI.js";import"./use-initials-Y_EWJVKO.js";import"./chevrons-up-down-DOgTaHrR.js";import"./app-logo-icon-DxQ8HIrN.js";import"./building-2-xoQ_6p3O.js";import"./chevron-right-BPnegaHu.js";import"./square-pen-C7MKAjP4.js";const k=[{title:"Lokasi Presensi",href:"#"}];function G({office:r}){const s=t.useRef(null),l=t.useRef(null),n=t.useRef(null),[c,u]=t.useState(!1),o=r.latitude,m=r.longitude,i=d.latLng(o,m),p=()=>{s.current&&(l.current&&s.current.removeLayer(l.current),n.current&&s.current.removeLayer(n.current),l.current=d.circle(i,{color:"red",radius:r.radius}).addTo(s.current),n.current=d.marker(i,{icon:g}).addTo(s.current).bindPopup("Lokasi Absensi"),s.current.setView(i,13))};return t.useEffect(()=>{const a=setInterval(()=>{s.current&&(u(!0),clearInterval(a))},100);return()=>clearInterval(a)},[]),t.useEffect(()=>{if(c){const a=setTimeout(()=>{p()},200);return()=>clearTimeout(a)}},[c,r.radius,r.latitude,r.longitude]),e.jsxs(v,{breadcrumbs:k,children:[e.jsx(x,{title:"Lokasi Absensi"}),e.jsxs("div",{className:"flex h-full max-w-5xl flex-col gap-4 rounded-xl p-4",children:[e.jsx(f,{office:r}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(L,{children:"Lokasi Absensi"})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-y-6 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Lokasi"}),e.jsx("p",{className:"font-bold",children:r.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Jam Masuk"}),e.jsx("p",{className:"font-bold",children:r.clock_in})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Jam Keluar"}),e.jsx("p",{className:"font-bold",children:r.clock_out})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Radius"}),e.jsxs("p",{className:"font-bold",children:[r.radius," ",e.jsx("span",{className:"font-normal text-gray-500",children:"meter"})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Latitude"}),e.jsx("p",{className:"font-bold",children:r.latitude})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Longitude"}),e.jsx("p",{className:"font-bold",children:r.longitude})]})]})})]}),e.jsx("div",{className:"h-full p-0",children:e.jsx(b,{mapRef:s,center:[o,m],zoom:13})})]})]})}export{G as default};
