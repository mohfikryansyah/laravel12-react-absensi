import{r as j,j as r,S as f,V as l}from"./app-Ffg-GmBL.js";import{B as c}from"./button-Qg5HyjvD.js";import{C as v,a as C,b,c as g,d as S}from"./card-CU1sSMWZ.js";import{C as D,b as F,d as N,e as k}from"./command-Bwc0h7KK.js";import{u as y,F as E,a as d,b as p,c as u,e as x}from"./form-C2-EWfmQ.js";import{I as B}from"./input-CUfs9bFq.js";import{P as I,a as P,b as V}from"./popover-BhBIammX.js";import{A as w}from"./app-layout-D2rvRVF-.js";import{c as L}from"./utils-jAU0Cazi.js";import{s as O,D as A}from"./zod-BqYJMEXX.js";import{C as T}from"./check-C60HpFQE.js";import"./index-DpWjNuKG.js";import"./index-l-TZJ4k7.js";import"./index-s-DF2i5E.js";import"./createLucideIcon-p75epl1b.js";import"./label-DhWLsGB-.js";import"./index-DsEHfaDd.js";import"./dropdown-menu-5lBqjCU5.js";import"./use-initials-Ci3hpmZk.js";import"./chevrons-up-down-bPu2XCfW.js";import"./app-logo-icon-BpEplJFT.js";import"./building-2-DEpnN3Mt.js";import"./chevron-right-DXKyazGZ.js";function mr({users:t}){const[m,n]=j.useState(!1),e=y({resolver:O(A),defaultValues:{name:"",ketua:void 0}});function h(a){f.post(route("devisi.store"),a,{onSuccess:()=>{e.reset(),l.success("Berhasil membuat divisi baru")},onError:i=>{console.log(i),l.error("Error: "+i),Object.entries(i).forEach(([s,o])=>{e.setError(s,{type:"server",message:String(o)})})}})}return r.jsx(w,{children:r.jsx("div",{className:"flex max-w-3xl flex-1 flex-col gap-4 p-4",children:r.jsxs(v,{children:[r.jsxs(C,{children:[r.jsx(b,{children:"Buat Divisi Baru"}),r.jsx(g,{children:"Isi formulir berikut untuk membuat Divisi"})]}),r.jsx(S,{children:r.jsx(E,{...e,children:r.jsxs("form",{onSubmit:e.handleSubmit(h),className:"space-y-4",children:[r.jsx(d,{control:e.control,name:"name",render:({field:a})=>r.jsxs(p,{children:[r.jsx(u,{children:"Nama Divisi"}),r.jsx(x,{children:r.jsx(B,{...a})})]})}),r.jsx(d,{control:e.control,name:"ketua",render:({field:a})=>{var i;return r.jsxs(p,{children:[r.jsx(u,{children:"Ketua Divisi"}),r.jsxs(I,{open:m,onOpenChange:n,children:[r.jsx(P,{asChild:!0,children:r.jsx(x,{children:r.jsx(c,{variant:"outline",children:a.value?r.jsx("span",{className:"mr-auto",children:(i=t.find(s=>s.id===a.value))==null?void 0:i.name}):r.jsx("span",{className:"mr-auto",children:"Pilih user"})})})}),r.jsx(V,{className:"popover-content-width-same-as-its-trigger w-auto p-0",align:"start",children:r.jsx(D,{children:r.jsx(F,{children:r.jsx(N,{children:t.map(s=>r.jsxs(k,{value:String(s.id),onSelect:o=>{e.setValue("ketua",Number(o)),n(!m)},children:[r.jsx(T,{className:L("mr-2 h-4 w-4",e.getValues("ketua")===s.id?"opacity-100":"opacity-0")}),s.name]},s.id))})})})})]})]})}}),r.jsx(c,{type:"submit",children:"Submit"})]})})})]})})})}export{mr as default};
