import{r as f,j as a,S as A,V as w}from"./app-BPPpcUO0.js";import{B as l}from"./button-dUqhTS3j.js";import{C as N,a as k}from"./calendar-6HkWXe8U.js";import{C as S,a as D,b as P,c as F,d as T,e as v}from"./command-BEEZiI_5.js";import{D as _,a as M,b as O,c as G,d as z,e as H,f as R}from"./dialog-9hEygwO4.js";import{u as U,F as $,a as i,b as o,c as d,d as c,e as V}from"./form-qbYP6Xmv.js";import{P as m,a as h,b as u}from"./popover-BT06q9pB.js";import{c as E}from"./utils-jAU0Cazi.js";import{s as q,C as J}from"./zod-DrVaMLMx.js";import{C as B}from"./chevrons-up-down-DbqxHM52.js";import{T as Q}from"./triangle-alert-D50qkcNy.js";import{f as x}from"./format-acRrnPkz.js";import"./createLucideIcon-D4gk0Ghz.js";import"./chevron-right-CWTnHUZ0.js";import"./chevron-left-jXA0GYtW.js";import"./index-DH9YNmbs.js";import"./index-DjsmBRup.js";import"./index-xMlDHO30.js";import"./index-CbpsmW50.js";import"./label-DCKxiXaS.js";function pa({cutiperjadis:W,users:t}){const[C,b]=f.useState(!1),[j,g]=f.useState(!1),[I,y]=f.useState(!1),s=U({resolver:q(J),defaultValues:{user_id:void 0,tanggal_awal:void 0,tanggal_akhir:void 0,keterangan:"Perjalanan Dinas"},mode:"onChange"});function L(e){const n={...e,tanggal_awal:x(e.tanggal_awal,"yyyy-MM-dd"),tanggal_akhir:x(e.tanggal_akhir,"yyyy-MM-dd")};A.post(route("cuti-perjalanan-dinas.store"),n,{onSuccess:()=>{s.reset(),w.success("Berhasil menambahkan data"),y(!1)},onError:r=>{console.log(r),w.error("Gagal menambahkan data"),Object.entries(r).forEach(([p,K])=>{s.setError(p,{type:"server",message:String(K)})})}})}return a.jsxs(_,{open:I,onOpenChange:y,children:[a.jsx(M,{asChild:!0,children:a.jsx(l,{className:"h-8",children:"Tambah Data"})}),a.jsxs(O,{children:[a.jsxs(G,{children:[a.jsx(z,{children:"Cuti atau Perjalanan Dinas"}),a.jsx(H,{children:"Tambahkan pegawai yang sedang cuti atau perjalanan dinas"})]}),a.jsx($,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(L),className:"space-y-4",id:"cutiperjadis",children:[a.jsx(i,{control:s.control,name:"user_id",render:({field:e})=>{var n;return a.jsxs(o,{children:[a.jsx(d,{children:"Pegawai"}),a.jsxs(m,{open:C,onOpenChange:b,children:[a.jsx(h,{asChild:!0,children:a.jsxs(l,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[e.value?(n=t.find(r=>r.id===e.value))==null?void 0:n.name:"Pilih pegawai",a.jsx(B,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(u,{className:"popover-content-width-same-as-its-trigger w-auto p-0",children:a.jsxs(S,{children:[a.jsx(D,{placeholder:"Contoh: Sri Lutfianti"}),a.jsxs(P,{children:[a.jsx(F,{children:"Tidak ada pegawai yang ditemukan"}),a.jsx(T,{children:t==null?void 0:t.map(r=>a.jsx(v,{value:String(r.id),onSelect:p=>{s.setValue("user_id",Number(p)),b(!C)},children:r.name},r.id))})]})]})})]}),a.jsx(c,{})]})}}),a.jsxs("div",{className:"grid-cols-12 space-y-4 md:grid md:space-y-0",children:[a.jsx("div",{className:"col-span-6",children:a.jsx(i,{control:s.control,name:"tanggal_awal",render:({field:e})=>a.jsxs(o,{className:"flex flex-col",children:[a.jsx(d,{children:"Tanggal Mulai"}),a.jsxs(m,{children:[a.jsx(h,{asChild:!0,children:a.jsx(V,{children:a.jsxs(l,{variant:"outline",className:E("col-span-5 w-full pl-3 text-left font-normal md:rounded-tr-none md:rounded-br-none",!e.value&&"text-muted-foreground"),children:[e.value?x(e.value,"yyyy/MM/dd"):a.jsx("span",{children:"Pilih tanggal"}),a.jsx(N,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(u,{className:"w-auto p-0",align:"start",children:a.jsx(k,{mode:"single",selected:e.value,onSelect:e.onChange,initialFocus:!0})})]}),a.jsx(c,{})]})})}),a.jsx("div",{className:"col-span-6",children:a.jsx(i,{control:s.control,name:"tanggal_akhir",render:({field:e})=>a.jsxs(o,{className:"flex flex-col",children:[a.jsx(d,{children:"Tanggal Akhir"}),a.jsxs(m,{children:[a.jsx(h,{asChild:!0,children:a.jsx(V,{children:a.jsxs(l,{variant:"outline",className:E("w-full pl-3 text-left font-normal md:rounded-tl-none md:rounded-bl-none",!e.value&&"text-muted-foreground"),children:[e.value?x(e.value,"yyyy/MM/dd"):a.jsx("span",{children:"Pilih tanggal"}),a.jsx(N,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(u,{className:"w-auto p-0",align:"start",children:a.jsx(k,{mode:"single",selected:e.value,onSelect:e.onChange,initialFocus:!0})})]}),a.jsx(c,{})]})})})]}),a.jsx(i,{control:s.control,name:"keterangan",render:({field:e})=>a.jsxs(o,{children:[a.jsx(d,{children:"Keterangan"}),a.jsxs(m,{open:j,onOpenChange:g,children:[a.jsx(h,{asChild:!0,children:a.jsxs(l,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[e.value?e.value:"Pilih keterangan",a.jsx(B,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(u,{className:"popover-content-width-same-as-its-trigger w-auto p-0",children:a.jsxs(S,{children:[a.jsx(D,{placeholder:"Contoh: Sri Lutfianti"}),a.jsxs(P,{children:[a.jsx(F,{children:"Tidak ada pegawai yang ditemukan"}),a.jsxs(T,{children:[a.jsx(v,{value:"Cuti",onSelect:n=>{s.setValue("keterangan",n),g(!j)},children:"Cuti"}),a.jsx(v,{value:"Perjalanan Dinas",onSelect:n=>{s.setValue("keterangan",n),g(!j)},children:"Perjalanan Dinas"})]})]})]})})]}),a.jsx(c,{})]})}),a.jsxs(_,{children:[a.jsx(M,{asChild:!0,children:a.jsx(l,{variant:"default",size:"sm",className:"m-0 bg-blue-500 hover:bg-blue-600",children:"Submit"})}),a.jsx(O,{className:"sm:max-w-[425px]",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-orange-200",children:a.jsx(Q,{className:"h-8 w-8 text-orange-500"})}),a.jsx("h1",{className:"mt-4 text-lg font-bold",children:"Peringatan!"}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Periksa kembali data yang telah dimasukkan"}),a.jsx("p",{className:"text-gray-700",children:"Data tidak dapat dihapus atau diubah"}),a.jsxs("div",{className:"mt-4 grid w-full grid-cols-2 gap-x-2",children:[a.jsx(R,{asChild:!0,children:a.jsx(l,{variant:"outline",children:"Batal"})}),a.jsx(l,{form:"cutiperjadis",type:"submit",variant:"default",className:"bg-blue-500 transition-all duration-300 hover:bg-blue-600 active:scale-90",children:"Submit"})]})]})})]})]})})]})]})}export{pa as default};
