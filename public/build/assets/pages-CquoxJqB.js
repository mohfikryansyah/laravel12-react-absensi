import{r as a,j as e,L as x}from"./app--NafNW8N.js";import{C as h,a as j,b as L,d as N}from"./card-BxVayZXG.js";import{L as d,M as b,d as g}from"./map-leaflet-BzgRUVev.js";import{A as v}from"./app-layout-1bWnH4Hk.js";import f from"./tab-edit-view-CqEdIVJr.js";import"./utils-jAU0Cazi.js";import"./index-DMMIZxIQ.js";import"./button-DKqtmY5T.js";import"./index-bwBtKtnz.js";import"./createLucideIcon-Brx01vu8.js";import"./index-DAjHXmnO.js";import"./index-31Ipk15n.js";import"./dropdown-menu-CrorICFw.js";import"./use-initials-5Vy89ugo.js";import"./chevrons-up-down-BtCOfvYM.js";import"./app-logo-icon-CNZSU5wJ.js";import"./building-2-C02OJwB_.js";import"./chevron-right-XI6LTbq1.js";import"./square-pen-JVyqzAV3.js";const k=[{title:"Lokasi Presensi",href:"#"}];function D({office:r}){const s=a.useRef(null),l=a.useRef(null),n=a.useRef(null),[c,u]=a.useState(!1),o=r.latitude,m=r.longitude,i=d.latLng(o,m),p=()=>{s.current&&(l.current&&s.current.removeLayer(l.current),n.current&&s.current.removeLayer(n.current),l.current=d.circle(i,{color:"red",radius:r.radius}).addTo(s.current),n.current=d.marker(i,{icon:g}).addTo(s.current).bindPopup("Lokasi Absensi"),s.current.setView(i,13))};return a.useEffect(()=>{const t=setInterval(()=>{s.current&&(u(!0),clearInterval(t))},100);return()=>clearInterval(t)},[]),a.useEffect(()=>{if(c){const t=setTimeout(()=>{p()},200);return()=>clearTimeout(t)}},[c,r.radius,r.latitude,r.longitude]),e.jsxs(v,{breadcrumbs:k,children:[e.jsx(x,{title:"Lokasi Absensi"}),e.jsxs("div",{className:"flex h-full max-w-5xl flex-col gap-4 rounded-xl p-4",children:[e.jsx(f,{office:r}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(L,{children:"Lokasi Absensi"})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-y-6 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Lokasi"}),e.jsx("p",{className:"font-bold",children:r.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Jam Masuk"}),e.jsx("p",{className:"font-bold",children:r.clock_in})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Jam Keluar"}),e.jsx("p",{className:"font-bold",children:r.clock_out})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Radius"}),e.jsxs("p",{className:"font-bold",children:[r.radius," ",e.jsx("span",{className:"font-normal text-gray-500",children:"meter"})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Latitude"}),e.jsx("p",{className:"font-bold",children:r.latitude})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"",children:"Longitude"}),e.jsx("p",{className:"font-bold",children:r.longitude})]})]})})]}),e.jsx("div",{className:"h-full p-0",children:e.jsx(b,{mapRef:s,center:[o,m],zoom:13})})]})]})}export{D as default};
